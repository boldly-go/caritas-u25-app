<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Registrierung</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="edit">
    <h2 class="ion-padding-horizontal">Account anlegen</h2>
    <form #registrationForm="ngForm" (submit)="onSubmit(registrationForm)">
        <ion-list>
            <ion-item>
                <ion-label position="floating" class="required-field">Benutzername</ion-label>
                <ion-input required [(ngModel)]="registrationData.username" name="username" minlength="5"></ion-input>
                <ion-icon name="information-circle-outline" slot="end" (click)="showInformation('username')"></ion-icon>
            </ion-item>
            <ion-item>
                <ion-label position="floating" class="required-field">Alter wählen</ion-label>
                <ion-select
                    [interfaceOptions]="{header: 'Alter'}"
                    required
                    [(ngModel)]="registrationData.age"
                    name="age"
                    cancelText="Abbrechen"
                >
                    <ion-select-option [value]="age" *ngFor="let age of ages"> {{ age | age }} </ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label position="floating" class="required-field">Bundesland wählen</ion-label>
                <ion-select
                    [interfaceOptions]="{header: 'Bundesland'}"
                    required
                    [(ngModel)]="registrationData.state"
                    name="state"
                    cancelText="Abbrechen"
                >
                    <ion-select-option [value]="state" *ngFor="let state of states">
                        {{ state | state }}
                    </ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label position="floating">Geschlecht wählen</ion-label>
                <ion-select
                    [interfaceOptions]="{header: 'Geschlecht'}"
                    [(ngModel)]="registrationData.gender"
                    name="gender"
                    cancelText="Abbrechen"
                >
                    <ion-select-option [value]="gender" *ngFor="let gender of genders">
                        {{ gender | gender }}
                    </ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label position="floating" class="required-field">Passwort</ion-label>
                <ion-input
                    required
                    u25SecurePassword
                    [(ngModel)]="registrationData.password"
                    name="password"
                    #password="ngModel"
                    type="password"
                ></ion-input>
                <ion-icon name="information-circle-outline" slot="end" (click)="showInformation('password')"></ion-icon>
            </ion-item>
            <ion-item>
                <ion-label position="floating" class="required-field">Passwort wiederholen</ion-label>
                <ion-input
                    required
                    [u25EqualValue]="password.value"
                    [(ngModel)]="registrationData.passwordCheck"
                    name="passwordCheck"
                    type="password"
                ></ion-input>
            </ion-item>
            <ion-item lines="none" class="ion-align-items-start">
                <ion-checkbox
                    slot="start"
                    class="privacy-checkbox"
                    required
                    [(ngModel)]="registrationData.privacyPolicy"
                    (ionChange)="onCheckboxChange()"
                    name="privacyPolicy"
                ></ion-checkbox>
                <ion-label class="ion-text-wrap required-field">
                    Ich habe die <a (click)="openPrivacyDetails()">Datenschutzerklärung</a> zur Kenntnis genommen. Für
                    Authentifizierung und Navigation verwendet diese Webseite Cookies. Damit erkläre ich mich
                    einverstanden.
                </ion-label>
            </ion-item>
        </ion-list>
        <ion-button [disabled]="clickedSubmit" type="submit" expand="block" class="ion-padding-horizontal">
            {{btnText}}
        </ion-button>
    </form>
</ion-content>
